{% extends "network/layout.html" %}

{% block body %}
    <br/>


    {% if user.is_authenticated %}
	<center>
	<form action="{% url 'create' username=user.username %}">
	<button type="submit" class="btn btn-outline-secondary btn-responsive " id="status"style="height:2cm;border-radius: 40px;">What's on your mind {{user}} ... ? 
	</button>
	</form>
	</center>
	<br/>
	{%endif%}


	{% for post in pageObject %}
	<div id="card" class="card  text-light bg-dark mb-3" style="max-width: 20cm;">
	<h5 class="card-header" style="font-family:sans-serif;background-color: #9E9E9E ;"><a href="{% url 'profile' username=post.user %}"><i class="fa fa-user-circle" style="color: #1A237E"> <b style="color: #1A237E"> {{post.user}}</b></i></a></h5>
    <div class="card-body">
    <small class="card-subtitle mb-1 text-muted">{{post.date}}</small> 
    <p class="card-text">{{post.postBody}}</p>
    {% if user.is_authenticated %}

    	{% if request.user == post.user %}   
    		<a href="{% url 'edit' postID=post.id%}" class="edit">Edit <i class="fa fa-pencil"></i></a>
        	<b>{{post.likes.all.count}} likes</b>
    	{% elif request.user in post.likes.all %}
   			<a class="likebutton" href="#" data-catid="{{ post.id }}" id="{{post.id}}" data-total="{{post.likes.all.count}}"  data-value="Unlike" value="submit"><i class="fa fa-heart" id="heart{{post.id}}" style="color:#ff1493;"></i></a><span id="likes{{post.id}}"> {{post.likes.all.count}} </span>
   		{% else %}
    		<a class="likebutton" href="#" data-catid="{{ post.id }}" id="{{post.id}}" data-total="{{post.likes.all.count}}"  data-value="Like" value="submit"><i class="fa fa-heart" id="heart{{post.id}}" style="color:white;"></i></a><span id="likes{{post.id}}"> {{post.likes.all.count}} </span>
    	{%endif%}

    {% else %}
    	<p class="total-likes"><i class="fa fa-heart" style="color: #ff1493"></i> {{post.likes.all.count}} </p>
    {%endif %}
    </div>
    </div>
    {% endfor %}


    <hr>
	{%if pageObject %}
        <div class="container">
            <ul class="pagination justify-content-center">
                {% if pageObject.has_previous %}
                    <li class="page-item"><a href="?page=1" class="page-link">&laquo; </a></li>
                    <li class="page-item"><a href="?page={{ pageObject.previous_page_number }}" class="page-link">Previous</a></li>
                {% else %}
                	<li class="page-item disabled"><a class="page-link">&laquo; </a></li>
                	<li class="page-item disabled"><a class="page-link">Previous</a></li>
                {% endif %}                 
        
                 <li class="page-item"><a class="page-link">{{ pageObject.number }}</a></li>                
        
                {% if pageObject.has_next %}
                	<li class="page-item"><a href="?page={{ pageObject.next_page_number }}" class="page-link">Next</a></li>
                	<li class="page-item"><a href="?page={{ pageObject.paginator.num_pages }}" class="page-link"> &raquo;</a></li>
                {% else %}
                	<li class="page-item disabled"><a class="page-link">Next</a></li>
                	<li class="page-item disabled"><a class="page-link"> &raquo;</a></li>
                {% endif %}
            </ul>
        </div> 

	{% endif %}


{% endblock %}